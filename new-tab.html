<html>
<head>
    <title>New Tab</title>

    <script src="js/_lib/angular.min.js"></script>
    <script src="js/_lib/angular-resource.js"></script>
    <script src="js/_lib/jquery-2.1.4.min.js"></script>
    <script src="js/_lib/bootstrap.min.js"></script>
    <script src="js/_lib/ui-bootstrap-tpls-0.9.0.min.js"></script>

    <link href="http://fonts.googleapis.com/css?family=Open+Sans:800,400,300" rel="stylesheet" type="text/css">

    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/weather-icons.css">
    <link rel="stylesheet" href="css/style.css">
</head>

<body ng-app="newTabApp" ng-controller="locationController">

    <div id="timeDiv" ng-controller="timeController" ng-style="{'background-color':timeString}">
        <div id="locationDiv">
            {{location}} ({{latitude | latitudeFilter}}, {{longitude | longitudeFilter}})
        </div>

        <div id="date">{{date}}</div>
        <div id="time">{{time}}</div>

        <div id="weatherDiv" ng-controller="weatherController">
            <div id="current">
                <div class="icon"><i class="wi {{weather.currently.icon | iconFilter}}"></i></div>
                <div class="summary">{{weather.currently.summary}}</div>
                <div class="temperature">
                    <i class="wi wi-thermometer"></i> {{weather.currently.temperature | number:1}}<i class="wi wi-fahrenheit"></i>
                    <span class="apparent">({{weather.currently.apparentTemperature | number:1}}<i class="wi wi-fahrenheit"></i>)</span>
                </div>
                <div class="wind">
                    <i class="wi wi-strong-wind"></i> <i class="wi wi-wind-default _{{weather.currently.windBearing | windBearingFilter}}-deg"></i> {{weather.currently.windSpeed | number:1}} mph
                </div>
                <div class="precipitation">
                    <i class="wi wi-umbrella"></i> {{weather.currently.precipProbability * 100 | number:0}}% <span ng-if="weather.currently.precipProbability > 0">({{weather.currently.precipIntensity | number:4}} in/hr {{weather.currently.precipType}})</span>
                </div>
            </div>
            <a id="alertsIcon" href="#" ng-if="alerts.length > 0" ng-click="showAlerts()" ng-controller="alertsController">
                <i class="fa fa-exclamation-triangle"></i>
            </a>

            <div id="forecast">
                <div id="hour">
                    <div class="header">Next Hour</div>
                    <div class="icon"><i class="wi {{weather.hourly.data[0].icon | iconFilter}}"></i></div>
                    <div class="summary">{{weather.minutely.summary}}</div>
                    <div class="temperature">
                        <i class="wi wi-thermometer"></i> {{weather.hourly.data[0].temperature | number:1}}<i class="wi wi-fahrenheit"></i>
                        <span class="apparent">({{weather.hourly.data[0].apparentTemperature | number:1}}<i class="wi wi-fahrenheit"></i>)</span>
                    </div>
                    <div class="wind">
                        <i class="wi wi-strong-wind"></i> <i class="wi wi-wind-default _{{weather.hourly.data[0].windBearing | windBearingFilter}}-deg"></i> {{weather.hourly.data[0].windSpeed | number:1}} mph
                    </div>
                    <div class="precipitation">
                        <i class="wi wi-umbrella"></i> {{weather.hourly.data[0].precipProbability * 100 | number:0}}% <span ng-if="weather.hourly.data[0].precipProbability > 0">({{weather.hourly.data[0].precipType}})</span>
                    </div>
                </div>

                <div id="today">
                    <div class="header">Today</div>
                    <div class="icon"><i class="wi {{weather.daily.data[0].icon | iconFilter}}"></i></div>
                    <div class="summary">{{weather.hourly.summary}}</div>
                    <div class="temperature">
                        <i class="min wi wi-thermometer"></i> {{weather.daily.data[0].temperatureMax | number:0}}<i class="wi wi-fahrenheit"></i>
                        /
                        <span class="max">{{weather.daily.data[0].temperatureMin | number:0}}<i class="wi wi-fahrenheit"></i></span>
                    </div>
                    <div class="wind">
                        <i class="wi wi-strong-wind"></i> <i class="wi wi-wind-default _{{weather.daily.data[0].windBearing | windBearingFilter}}-deg"></i> {{weather.daily.data[0].windSpeed | number:1}} mph
                    </div>
                    <div class="precipitation">
                        <i class="wi wi-umbrella"></i> {{weather.daily.data[0].precipProbability * 100 | number:0}}% <span ng-if="weather.daily.data[0].precipProbability > 0">({{weather.daily.data[0].precipType}})</span>
                    </div>
                </div>

                <div id="tomorrow">
                    <div class="header">Tomorrow</div>
                    <div class="icon"><i class="wi {{weather.daily.data[1].icon | iconFilter}}"></i></div>
                    <div class="summary">{{weather.daily.data[1].summary}}</div>
                    <div class="temperature">
                        <i class="min wi wi-thermometer"></i> {{weather.daily.data[1].temperatureMax | number:0}}<i class="wi wi-fahrenheit"></i>
                        /
                        <span class="max">{{weather.daily.data[1].temperatureMin | number:0}}<i class="wi wi-fahrenheit"></i></span>
                    </div>
                    <div class="wind">
                        <i class="wi wi-strong-wind"></i> <i class="wi wi-wind-default _{{weather.daily.data[1].windBearing | windBearingFilter}}-deg"></i> {{weather.daily.data[1].windSpeed | number:1}} mph
                    </div>
                    <div class="precipitation">
                        <i class="wi wi-umbrella"></i> {{weather.daily.data[1].precipProbability * 100 | number:0}}% <span ng-if="weather.daily.data[1].precipProbability > 0">({{weather.daily.data[1].precipType}})</span>
                    </div>
                </div>
            </div>
        </div>

        <div id="about">
            <div>
                Built by <a href="https://www.linkedin.com/in/alextzhu">Alexander Zhu</a> | <a href="https://github.com/azhu2/new-tab">Source</a> | <a href="mailto:alex.t.zhu+newtab@gmail.com?subject=New Tab">Contact</a>
            </div>
            <div>
                Powered by <a href="http://forecast.io">Forecast</a> | Inspired by <a href="http://whatcolourisit.scn9a.org/">What colour is it?</a> | Weather icons from <a href="http://erikflowers.github.io/weather-icons/">Erik Flowers</a>
            </div>
        </div>
    </div>

    <script src="js/newTab.js"></script>
    <script src="js/apiKeys.js"></script>
    <script src="js/config.js"></script>
    <script src="js/services/geolocationService.js"></script>
    <script src="js/services/geocodingService.js"></script>
    <script src="js/services/weatherService.js"></script>
    <script src="js/services/timezoneService.js"></script>
    <script src="js/controllers/alertsController.js"></script>
    <script src="js/controllers/locationController.js"></script>
    <script src="js/controllers/timeController.js"></script>
    <script src="js/controllers/weatherController.js"></script>
    <script src="js/filters/windBearingFilter.js"></script>
    <script src="js/filters/iconFilter.js"></script>
    <script src="js/filters/latLongFilters.js"></script>
</body>
</html>